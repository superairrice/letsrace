{% extends "socialaccount/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Signup" %}{% endblock %}

{% block content %}
<main class="auth layout">
  <div class="container">
    <div class="layout__box">
      <div class="layout__boxHeader">
        <div class="layout__boxTitle">
          <h3>{% trans "소셜 회원가입" %}</h3>
        </div>
      </div>

      <div class="layout__body">
        <p style="margin-bottom: 1rem;">
          {% blocktrans with provider_name=account.get_provider.name site_name=site.name %}
          {{provider_name}} 계정으로 {{site_name}}에 로그인하려면 추가 정보를 입력해 주세요.
          {% endblocktrans %}
        </p>

        <form class="form signup" id="signup_form" method="post" action="{% url 'socialaccount_signup' %}">
          {% csrf_token %}

          {% if form.non_field_errors %}
          <div class="form__errors" style="margin-bottom:1rem;color:#ffb2b2;">
            {% for err in form.non_field_errors %}
            <div>{{ err }}</div>
            {% endfor %}
          </div>
          {% endif %}

          {% for field in form %}
          <div class="form__group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% for err in field.errors %}
            <p style="color:#ffb2b2;margin-top:0.4rem;">{{ err }}</p>
            {% endfor %}
          </div>
          {% endfor %}

          <p style="margin-top:0.4rem; font-size:1.2rem;">
            <a href="{% url 'terms_of_service' %}" target="_blank" rel="noopener">이용약관 보기</a>
            <span style="color:var(--color-light-gray);">&nbsp;|&nbsp;</span>
            <a href="{% url 'privacy_policy' %}" target="_blank" rel="noopener">개인정보처리방침 보기</a>
          </p>

          {% if redirect_field_value %}
          <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
          {% endif %}

          <button class="btn btn--main" type="submit">{% trans "가입 완료" %}</button>
        </form>
      </div>
    </div>
  </div>
</main>
{% endblock %}
