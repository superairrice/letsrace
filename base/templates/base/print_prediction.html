<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="{% static 'styles/style.css' %}" />
  <link rel="stylesheet" href="{% static 'styles/styles.css' %}" />

 

  <title>Let's Enjoy! - ÌîÑÎ°úÍ∑∏Îû® Í≤ΩÎßà! ÎçîÎçîÍµ¨ÎÇò?! Í≤ΩÏ£ºÍ≤∞Í≥º</title>

  <div class="room__top" style="z-index:1;">
  
    <div id="room__header" class="room__topLeft">

      <form class="header__search" method="GET" action="{% url 'print_prediction' %}">
        <label>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
            <title>search</title>
            <path
              d="M32 30.586l-10.845-10.845c1.771-2.092 2.845-4.791 2.845-7.741 0-6.617-5.383-12-12-12s-12 5.383-12 12c0 6.617 5.383 12 12 12 2.949 0 5.649-1.074 7.741-2.845l10.845 10.845 1.414-1.414zM12 22c-5.514 0-10-4.486-10-10s4.486-10 10-10c5.514 0 10 4.486 10 10s-4.486 10-10 10z">
            </path>
          </svg>
          <fieldset align="center" style="width: 13.5rem;">
          
            {% if race.0.0 == 'ÏÑúÏö∏' %}
              ÏÑúÏö∏<input style="width: 3rem;" type="radio" name="rcity" value="ÏÑúÏö∏" checked />
              Î∂ÄÏÇ∞<input style="width: 3rem;" type="radio" name="rcity" value="Î∂ÄÏÇ∞"  />
            {% elif race.0.0 == 'Î∂ÄÏÇ∞' %}
              ÏÑúÏö∏<input style="width: 3rem;" type="radio" name="rcity" value="ÏÑúÏö∏" />
              Î∂ÄÏÇ∞<input style="width: 3rem;" type="radio" name="rcity" value="Î∂ÄÏÇ∞" checked />
            {% else %}
              ÏÑúÏö∏<input style="width: 3rem;" type="radio" name="rcity" value="ÏÑúÏö∏" />
              Î∂ÄÏÇ∞<input style="width: 3rem;" type="radio" name="rcity" value="Î∂ÄÏÇ∞" />
            {% endif %}
          
          </fieldset>
          Í≤ΩÎßàÏùº :
          <input style="width: 12rem;" type="date" value={{fdate}} name="q">
          Í¥ÄÏã¨Í∏∞Ïàò :
          <input style="width: 5rem; color:var(--color-r1)" type="text" value='{{jname1}}' placeholder="ÏÑ∏ÏòÅ" name="j1">
          <input style="width: 5rem; color:var(--color-r2)" type="text" value='{{jname2}}' placeholder="ÏïàÌÜ†ÎãàÏò§" name="j2">
          <input style="width: 5rem; color:var(--color-r3)" type="text" value='{{jname3}}' placeholder="Ïù¥ÌòÅ" name="j3">
          <button class="btn" style="background: var(--color-main);">Search</button>
      
      
        </label>
      </form>
  
    </div>

    <div id="room__header" class="room__topRight">
      <button class="btn" style="background: var(--color-main);" onclick="window.print();">Print</button>
    </div>
  
  </div>

      {% for message in messages %}
      {{ message.tag }}
      {{ message }}
      {% endfor %}

</head>

{% load mathfilters %}
{% load humanize %}

{% block content %}

<main class="create-room layout">

  <div class="room" style="height: 87.5vh;">
    
    <style>
      @media print {
        #header, #room__header{display:none}
        html, body {
          width: 210mm;
          /* height: 297mm; */
          height: 282mm;
          background: #fff;
        }
        body {
          padding-top:10mm;
          padding-bottom:5mm;
        }
        .paper {
          margin: 0;
          border: initial;
          border-radius: initial;
          width: initial;
          min-height: initial;
          box-shadow: initial;
          background: initial;
          page-break-after: always;
          
        }
      }
      @media print {
        #header, #room__header{display:none}
        body {
          width: 100%;
          height: 100%;
          margin: 0;
          padding: 0;
          background-color: #ddd;

          padding-top:10mm;
          padding-bottom:5mm;
        }
      }
      
      * {
        box-sizing: border-box;
        -moz-box-sizing: border-box;
      }
      .paper {
        min-height: 297mm;

        width: 210mm;
        /* height: 297mm; */
        height: 282mm;
        background: #fff;
        
        padding: 20mm;              /* set contents area */
        margin: 10mm auto;
        border-radius: 5px;
        background: #fff;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      }
      .content {
        padding: 0;
        border: 1px #888 dotted;
        height: 257mm;
      }
      @page {
          size: A4;
          margin: 0;
      }
    </style>

    <div>

      <style>
        table {
          width: 100%;
          border-top: 1px solid #444444;
          border-collapse: collapse;
        }

        th,
        td {
          border-bottom: 1px solid #444444;
        }
      </style>
      
      <table style="background:white  ; color: black;">
        <thead>
          <tr>
            <th colspan="2" rowspan="2" align="center" style="font-size:large; font-weight:700; color:#444444; padding: 1.0em; text-transform:capitalize; border-right: 1px solid #444444;">
              &nbsp;<br>{{race.0.0}}<br>&nbsp;
            <th colspan="24" rowspan="1" align="center" style="font-size:large; color:#444444; padding: 1.0em; text-transform:capitalize;">
              {{race.0.1|slice:"0:4"}}.{{race.0.1|slice:"4:6"}}.{{race.0.1|slice:"6:8"}}&nbsp; ({{race.0.2}})&nbsp;&nbsp;&nbsp;&nbsp;
            
              Program Expected Ranking (Î∂ÄÎã¥Ï§ëÎüâ Ï¶ùÍ∞ê : ‚äñ üü• ‚úö üü¶)</th>
            <th></th>
          </tr>
          <tr>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R1</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R2</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R3</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R4</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R5</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R6</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R7</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R8</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R9</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R10</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">R11</th>
            <th colspan="2" align="center" style="font-size:large; color:#444444; padding: 0.7em;">r12</th>
            <th colspan="1" align="center" style="font-size:1.2rem; color:#444444; padding-bottom: 1.4rem; border-left: 1px solid #444444;">&nbsp;</th>
          </tr>
        </thead>
        <tbody>
          {% for r_rcity, r_rdate, r_rday, r_rno, rtime, distance in race %}
          
          <tr>
            <td style="text-align: right;">
              <div style="font-family: Arial; font-size:x-large; font-weight: 550; color:#444444; padding-top: 1.2rem; padding-bottom: 1.2rem;">{{r_rno}}·¥ø</div>
              
            </td>
            
            <td style="border-right: 1px solid #444444;">
              
              <div style="font-size:x-small; text-align:center; color:blue; font-family: Arial; padding-bottom: .3rem;">{{rtime}}</div>
              <div style="font-family: Arial; text-align:center; font-size: x-small; color: var(--color-gray);">{{distance}}</div>
              
            </td>


            {% for rcity, rdate, rday, rno, gate, rank, r_rank, horse, remark, jockey, trainer, host, r_pop, distance, handycap, i_prehandy, complex, complex5, i_complex, jt_per in expects %}  
            {% if r_rcity == rcity and r_rdate == rdate and r_rno == rno %}
            
            <td align="center" style="font-family: Arial; color: var(--color-main);">

              

              <div align="center" style="font-size: x-large; padding:0rem ">
                {% if rank == 1 %}
                <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">
                  {{gate}}
                </span>
                {% elif rank == 2 %}
                <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">
                  {{gate}}
                </span>
                {% elif rank == 3 %}
                <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">
                  {{gate}}
                </span>
                {% elif rank == 4 %}
                <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">
                  {{gate}}
                </span>
                {% elif rank == 5 %}
                <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">
                  {{gate}}
                </span>
                {% else %}
                  {% if complex == complex5 %}
                  <span style="font-family: Arial; font-style: italic; color:black; font-weight: 550;">{{gate}}</span>
                  {% else %}
                  <span style="font-family: Arial; font-style: normal; color:var(--color-main);">{{gate}}</span>
                  {% endif %}
                {% endif %}
              </div>

              {% if jockey|slice:"-2:" == jname1|slice:"-2:" %}
              <div style="font-size:x-small; color: var(--color-r1); font-weight: 550;">{{jockey|slice:"-2:"}}</div>
              {% elif jockey|slice:"-2:" == jname2|slice:"-2:" %}
              <div style="font-size:x-small; color: var(--color-r2); font-weight: 550;">{{jockey|slice:"-2:"}}</div>
              {% elif jockey|slice:"-2:" == jname3|slice:"-2:" %}
              <div style="font-size:x-small; color: var(--color-r3); font-weight: 550;">{{jockey|slice:"-2:"}}</div>
              {% else %}
              <div style="font-size:x-small; color: var(--color-dark)">{{jockey|slice:"-2:"}}</div>
              {% endif %}

            </td>
            <td align="center" style="border-right: 1px solid gray;">
              
              
              
              {% if r_pop >= 70 %}
              <div style="font-size:x-small; font-family: Arial; color:var(--color-r1); font-weight: 550;">{{r_pop}}</div>
              {% elif r_pop >= 10 and r_pop < 80 %}
              <div style="font-size:x-small; font-family: Arial; color:var(--color-r2); font-weight: 550;">{{r_pop}}</div>
              {% elif r_pop >= 1 and r_pop < 10 %}
              <div style="font-size:x-small; font-family: Arial; color:var(--color-r3); font-weight: 550;">{{r_pop}}</div>
              {% else %}
              <div style="font-size:x-small; font-family: Arial; color:var(--color-gray);">{{r_pop}}</div>
              {% endif %}



              {% if rank > 90 %}
              <div style="font-size: 1.3rem; zoom: 0.7">üê£</div>
              {% else %}
                {% if i_complex %}
                
                  {% if rank == 12 %}   {# ÎßåÏïΩ 12Îëê Ïù¥ÏÉÅÏùò Í≤ΩÏ£ºÎßàÍ∞Ä Ï∂úÏ£ºÌñàÏúºÎ©¥ Ï§ÑÏûÑÎßê ÌëúÏãú #}
                    <div class="blink tooltip" style="font-size: 1.3rem; zoom: 0.7; animation: blink-effect 1.0s step-end infinite;">m..
                      <div class="tooltip-text">Ï∂úÏ£ºÎßàÍ∞Ä Îçî ÏûàÏäµÎãàÎã§.</div></div>
                  {% else %}
                    {% if i_complex < 10 %} 
                    <div style="font-size: 1.3rem; zoom: 0.7; color:tomato;">{{i_complex|floatformat:0}}</div>
                    {% else %}
                    <div style="font-size: 1.3rem; zoom: 0.7; color: gray;">{{i_complex|floatformat:0}}</div>
                    {% endif %}
                  {% endif %}
                  
                {%else%}
                  <div style="font-size: 1.3rem; zoom: 0.7">&nbsp;</div>

                {% endif %}
              {% endif %}

              {# Î∂ÄÎã¥Ï§ëÎüâ Ï¶òÍ∞ê #}
              <div style="text-align: left;">
                {% if handycap|sub:i_prehandy == 0 or handycap|sub:i_prehandy >= 10 %}
                <div style="padding-top:0.9rem; font-size: 1.3rem; zoom: 0.7; font-family: Arial; color:blue; line-height:120%; text-align: center;">&nbsp;<br>-</div>
                {% else %}
                {% if handycap|sub:i_prehandy > 0 %}
                <div style="padding-top:0.9rem; font-size: 1.3rem; zoom: 0.7; font-family: Arial; color:blue; line-height:120%;">‚úö<br>{{handycap|sub:i_prehandy}}</div>
                {% else %}
                <div style="padding-top:0.9rem; font-size: 1.3rem; zoom: 0.7; font-family: Arial; color:red; line-height:120%;">‚äñ<br>{{handycap|sub:i_prehandy|mul:-1}}</div>
                {% endif %}
                {% endif %}
              </div>

            </td>
            

            {% endif %}
            {% endfor %}
            <td align="center" style="border-left: 1px solid #444444;">
              <div style="font-size:x-small; padding: 0.1rem;">Î≥µ</div>
              <div style="font-size:x-small; padding: 0.1rem;">ÏÇº</div>
            </td>

          </tr>
          {% endfor %}
      
      
        </tbody>
      </table>

    </div>


  </div>

  <script src="{% static 'js/script.js' %}"></script>
  
  <script src="{% static 'js/jquery-3.6.1.js' %}"></script>

</main>
{% endblock %}

</html>