<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="shortcut icon" type="image/x-icon" href="{% static '/images/number-9.png' %}" />

  <link rel="stylesheet" href="{% static 'styles/style.css' %}" />
  <link rel="stylesheet" href="{% static 'styles/styles.css' %}" />

  <script src="{% static 'js/script.js' %}"></script>

  <script src="{% static 'js/jquery-3.6.1.js' %}"></script>

  <title>Race Update</title>
  <style>
    .rbn-page {
      max-width: 980px;
      margin: 0 auto;
    }

    .rbn-form {
      display: flex;
      flex-direction: column;
      padding: 1rem;
      border-radius: 14px;
      border: 1px solid rgba(124, 147, 182, 0.34);
      background: linear-gradient(165deg, rgba(35, 42, 62, 0.95), rgba(28, 34, 52, 0.95));
      box-shadow: 0 12px 26px rgba(6, 10, 18, 0.34);
      height: calc(100dvh - 12rem);
      min-height: 22rem;
      overflow: hidden;
    }

    .rbn-toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.7rem;
      align-items: center;
      padding: 0.7rem;
      border-radius: 10px;
      border: 1px solid rgba(124, 147, 182, 0.28);
      background: rgba(58, 66, 92, 0.72);
      overflow-x: hidden;
      flex: 1 1 auto;
      min-width: 0;
    }

    .rbn-form .rbn-topline {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.7rem;
      margin-bottom: 0.85rem;
      width: 100%;
      flex: 0 0 auto;
    }

    .rbn-city {
      margin: 0;
      min-width: 9.6rem;
      border: 1px solid rgba(168, 186, 216, 0.42);
      border-radius: 8px;
      padding: 0.45rem 0.66rem;
      font-size: 1.15rem;
      color: #d8e4f7;
      display: inline-flex;
      gap: 0.7rem;
      align-items: center;
      justify-content: center;
    }

    .rbn-city input[type="radio"] {
      width: 1.05rem;
      height: 1.05rem;
      accent-color: #43bbff;
    }

    .rbn-field {
      display: inline-flex;
      align-items: center;
      gap: 0.46rem;
      min-width: max-content;
    }

    .rbn-field__label {
      font-size: 0.98rem;
      color: #b8cbeb;
      line-height: 1.1;
      white-space: nowrap;
    }

    .rbn-input,
    .rbn-select {
      width: auto;
      min-height: 2.25rem;
      border-radius: 8px;
      border: 1px solid rgba(133, 155, 190, 0.48);
      background: rgba(16, 23, 37, 0.78);
      color: #e4eefc;
      font-size: 1.12rem;
      padding: 0.3rem 0.5rem;
    }

    .rbn-input[type="number"] {
      text-align: center;
    }

    .rbn-field .rbn-input[type="date"] {
      width: 10.4rem;
    }

    .rbn-field .rbn-input[type="number"] {
      width: 4.8rem;
    }

    .rbn-field .rbn-select {
      width: 11.2rem;
    }

    .rbn-form .rbn-textarea {
      width: 100%;
      flex: 1 1 auto;
      min-height: 8rem !important;
      height: auto;
      max-height: none;
      display: block;
      align-self: stretch;
      box-sizing: border-box;
      float: none;
      position: static;
      border-radius: 10px;
      border: 1px solid rgba(119, 146, 186, 0.62);
      background: rgba(243, 247, 252, 0.96);
      color: #1c2b40;
      font-size: 1.14rem;
      line-height: 1.48;
      padding: 0.72rem 0.78rem;
      resize: none;
      overflow: auto;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.65);
    }

    .rbn-form .rbn-actions {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: 0.72rem;
      margin-top: 0.95rem;
      flex-wrap: wrap;
      width: 100%;
      float: none;
      padding-top: 0.4rem;
      position: sticky;
      bottom: 0;
      z-index: 2;
      background: linear-gradient(
        to bottom,
        rgba(28, 34, 52, 0),
        rgba(28, 34, 52, 0.92) 35%,
        rgba(28, 34, 52, 0.98) 100%
      );
    }

    .rbn-btn {
      min-height: 2.7rem;
      padding: 0.44rem 0.95rem;
      border-radius: 9px;
      font-size: 1.08rem;
      letter-spacing: 0.01em;
      border: 1px solid rgba(112, 199, 236, 0.6);
      background: rgba(20, 54, 77, 0.56);
      color: #9de5ff;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .rbn-btn:hover {
      border-color: rgba(150, 224, 255, 0.82);
      background: rgba(28, 70, 98, 0.7);
      color: #d1f4ff;
    }

    .rbn-btn--close {
      border-color: rgba(140, 155, 188, 0.58);
      background: rgba(86, 96, 130, 0.62);
      color: #eef3ff;
    }

    .rbn-btn--close:hover {
      border-color: rgba(171, 185, 216, 0.78);
      background: rgba(102, 113, 151, 0.76);
      color: #ffffff;
    }

    .rbn-form .rbn-result {
      padding: 0.72rem 0.85rem;
      border-radius: 10px;
      border: 1px solid rgba(124, 147, 182, 0.38);
      background: rgba(20, 28, 43, 0.72);
      color: #dce7fb;
      font-size: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: nowrap;
      white-space: nowrap;
      min-height: 3.25rem;
      align-items: center;
      flex: 0 0 auto;
    }

    .rbn-form .rbn-result strong {
      color: #ffffff;
    }

    @media (max-width: 940px) {
      .rbn-form {
        height: calc(100dvh - 10rem);
      }

      .rbn-form .rbn-topline {
        flex-direction: column;
        align-items: stretch;
      }

      .rbn-toolbar {
        justify-content: flex-start;
      }

      .rbn-form .rbn-result {
        min-height: auto;
        white-space: normal;
        flex-wrap: wrap;
      }

      .rbn-form .rbn-textarea {
        min-height: 8rem !important;
      }
    }
  </style>

</head>

{% block content %}

<div class="container rbn-page">

  <!-- <form class="header__search" method="GET" action="{% url 'race_breakingnews' %}"> -->
  <form class="header__search rbn-form" action="" method="POST">
    {% csrf_token %}
    <div class="rbn-topline">
      <div class="rbn-toolbar">
        <fieldset class="rbn-city">
          <label><input type="radio" name="rcity" value="ì„œìš¸" {% if rcity == "ì„œìš¸" or not rcity %} checked {% endif %}>&nbsp;ì„œìš¸</label>
          <label><input type="radio" name="rcity" value="ë¶€ì‚°" {% if rcity == "ë¶€ì‚°" %} checked {% endif %}>&nbsp;ë¶€ì‚°</label>
        </fieldset>

        <div class="rbn-field">
          <span class="rbn-field__label">ì¼ì</span>
          <input class="rbn-input" type="date" value="{{ fdate }}" name="fdate">
        </div>

        <div class="rbn-field">
          <span class="rbn-field__label">ê²½ì£¼ë²ˆí˜¸</span>
          <input class="rbn-input" type="number" min="1" max="99" step="1" value="{{ rno }}" name="rno">
        </div>

        <div class="rbn-field">
          <span class="rbn-field__label">ì¶œì£¼ë‘ìˆ˜</span>
          <input class="rbn-input" type="number" min="1" max="99" step="1" value="{{ rcount }}" name="rcount">
        </div>

        <div class="rbn-field">
          <span class="rbn-field__label">ğŸ“š ë°ì´í„°</span>
          <select class="rbn-select" name="fdata">
          <option value="-" {% if fdata == '-' %} selected {% endif %}>ì„ íƒ</option>
          
          <option value="ì¶œì „í‘œë³€ê²½" {% if fdata == 'ì¶œì „í‘œë³€ê²½' %} selected {% endif %}>ì¶œì „í‘œë³€ê²½</option>
          <option value="ë§ˆì²´ì¤‘" {% if fdata == 'ë§ˆì²´ì¤‘' %} selected {% endif %}>ë§ˆì²´ì¤‘</option>
          <option value="ê²½ì£¼ìˆœìœ„" {% if fdata == 'ê²½ì£¼ìˆœìœ„' %} selected {% endif %}>ê²½ì£¼ìˆœìœ„</option>
          <!-- <option value="ê²½ì£¼ë§ˆì·¨ì†Œ" {% if fdata == 'ê²½ì£¼ë§ˆì·¨ì†Œ' %} selected {% endif %}>ê²½ì£¼ë§ˆì·¨ì†Œ</option>
          <option value="ê¸°ìˆ˜ë³€ê²½" {% if fdata == 'ê¸°ìˆ˜ë³€ê²½' %} selected {% endif %}>ê¸°ìˆ˜ë³€ê²½</option> -->
          <option value="ìˆ˜ì˜ì¡°êµ" {% if fdata == 'ìˆ˜ì˜ì¡°êµ' %} selected {% endif %}>ìˆ˜ì˜ì¡°êµ</option>
          <option value="ë§ì§„ë£Œí˜„í™©" {% if fdata == 'ë§ì§„ë£Œí˜„í™©' %} selected {% endif %}>ë§ì§„ë£Œí˜„í™©</option>
          <option value="ì¶œì „ë“±ë¡ ì‹œë®¬ë ˆì´ì…˜" {% if fdata == 'ì¶œì „ë“±ë¡ ì‹œë®¬ë ˆì´ì…˜' %} selected {% endif %}>ì¶œì „ë“±ë¡ ì‹œë®¬ë ˆì´ì…˜</option>
          <option value="ì‹¬íŒìœ„ì› Report" {% if fdata == 'ì‹¬íŒìœ„ì› Report' %} selected {% endif %}>ì‹¬íŒìœ„ì› Report</option>
          <option value="ì¶œë°œì‹¬ì‚¬(b4)" {% if fdata == 'ì¶œë°œì‹¬ì‚¬(b4)' %} selected {% endif %}>ì¶œë°œì‹¬ì‚¬(b4)</option>
          <option value="ì¶œë°œì¡°êµ(b5)" {% if fdata == 'ì¶œë°œì¡°êµ(b5)' %} selected {% endif %}>ì¶œë°œì¡°êµ(b5)</option>
          </select>
        </div>
      </div>

      {% if show_result %}
      <div class="rbn-result">
        <span>ì²˜ë¦¬ê²°ê³¼</span>
        <span>ì„±ê³µ <strong>{{ result_success }}</strong>ê±´</span>
        <span>ì‹¤íŒ¨ <strong>{{ result_failed }}</strong>ê±´</span>
      </div>
      {% endif %}
    </div>
    
    <textarea class="rbn-textarea" name="r_content" rows="1">{{ r_content|default_if_none:"" }}</textarea>

    <div class="rbn-actions">
      <button class="rbn-btn" type="submit">ğŸ’¾&nbsp;Convert</button>
      <a class="rbn-btn rbn-btn--close" onclick="window.close()">Close</a>
    </div>

  </form>

</div>



{% endblock content %}
